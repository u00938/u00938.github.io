---
title: Promise
layout: post
categories: [JavaScript]
description: ""
customexcerpt: "JavaScript: Promise"
comments: true
---

* hello
{:toc}


## Intro ##
 - 자바스크립트는 single threaded(프로세스 내에서 단일 실행, 콜스택이 하나)로서, 여러 개의 스크립트가 동시에 실행될 수 없다.
 - 브라우저에서 자바스크립트는 사용자 작업의 처리, 스타일 업데이트 등의 다른 작업과 같은 대기열에 있으며, 브라우저는 어떠한 작업이 완료되기 전에 다음 작업을 수행할 수 없다. => blocking이 일어난다
 - 자바스크립트는 비동기 프로그래밍을 사용하여 요청을 보낸 후 응답에 관계 없이 바로 다음 동작을 이어서 실행한다.
 - 자바스크립트의 비동기 함수는 특정 코드의 실행이 끝나기 전에 계속 다음 코드를 실행하기 때문에, 실행이 서로 연관되어 있는 코드가 있을 경우 에러가 발생할 수 있다.
 - Promise는 이러한 비동기적인 함수를 바로 실행하는 대신 동기 함수처럼 값을 반환하도록 한다.
 - 주로 서버에서 받아온 데이터를 화면에 표시할 때 사용하는데, 서버에 데이터 요청 후 화면에 표시될 때 데이터를 다 받아오지 않은 상태에서는 오류가 발생하거나 빈 화면이 표시되게 된다. 때문에 데이터를 받아오는 작업이 모두 완료된 후 화면에 표시하는 함수가 실행되어야 하는데, 이러한 비동기 처리 방식의 문제를 해결하기 위해 콜백 함수를 사용한다.
    - 콜백 함수: 자바스크립트에서 비동기를 관리하는 방법 중 하나
    - 콜백 함수를 parameter로 받게 되면 제어권을 콜백 함수에게 넘겨주게 된다.
    - 즉, 콜백 함수는 비동기 함수가 완료된 후 실행되어야 할 코드를 담고 있다가 함수 내에서 정해진 방식에 따라 콜백 함수를 호출할 때 실행된다.
 - 비동기를 처리하기 위해 콜백 함수를 사용하다 보면 depth가 깊어져 콜백 지옥이 생길 수 있다.
 
 ```js
 // 콜백 지옥
 step1(function (value1) {
    step2(function (value2) {
        step3(function (value3) {
            step4(function (value4) {
                step5(function (value5) {
                    step6(function (value6) {
                        // Do something with value6
                    });
                });
            });
        });
    });
});
 ```
 - 이러한 콜백 지옥을 해결하기 위해 Promise, AsyncAwait를 사용한다.
 
<br>

## Promise ##
 - 비동기 처리에 사용되는 객체
 - 비동기 작업이 완료된 후의 결과 값을 객체로 받아 이후 처리를 관리한다.
 - new Promise를 통해 인스턴스를 생성한다.
 - 매개변수로 함수를 전달받고, 이 함수가 다시 resolve/reject 함수를 인자로 받는다.
 
## Promise의 메소드 ##
 - resolve(): 비동기 작업 성공 시 주어진 값을 담은 Promise 객체를 반환 => then
 - reject(): 비동기 작업 실패 시 에러 값을 담은 Promise 객체를 반환 => catch
 
<br>

## Promise 프로토타입 메소드 ##
 - 
